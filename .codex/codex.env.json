{
  "runner": {
    "provider": "self_hosted",
    "id_env": "CODEX_ENVIRONMENT_RUNNER",
    "token_secret": "CODEX_RUNNER_TOKEN",
    "sha256_env": "CODEX_RUNNER_SHA256",
    "strict_hash_check": true
  },
  "container": {
    "cache_enabled": true,
    "cache_invalidation_keys": [
      "package-lock.json",
      "pnpm-lock.yaml",
      "yarn.lock",
      "poetry.lock",
      "requirements.txt",
      "uv.lock",
      "Cargo.lock"
    ]
  },
  "setup": {
    "mode": "manual",
    "preflight_script": ".codex/scripts/setup.sh",
    "maintenance_script": ".codex/scripts/maintenance.sh"
  },
  "network": {
    "internet_access": true,
    "allowlist": [
      "api.github.com",
      "github.com",
      "objects.githubusercontent.com",
      "registry.npmjs.org",
      "pypi.org",
      "files.pythonhosted.org",
      "api.openai.com"
    ],
    "http_methods": [
      "GET",
      "HEAD",
      "POST",
      "PUT",
      "PATCH",
      "DELETE",
      "OPTIONS"
    ]
  },
  "limits": {
    "openai": {
      "rpm_env": "OPENAI_RPM",
      "tpm_env": "OPENAI_TPM",
      "timeout_seconds": 120,
      "use_prompt_caching": true
    },
    "github": {
      "max_concurrency": 80,
      "rest_points_per_min": 900,
      "code_search_rpm": 8,
      "search_shard_days": 7
    },
    "assistants": {
      "max_file_mb": 512,
      "max_tokens_per_file": 5000000,
      "max_files_per_vector_store": 10000
    },
    "repo_hygiene": {
      "warn_if_repo_over_mb": 1000,
      "block_blob_over_mb": 100,
      "enforce_lfs": true
    }
  }
}
